package PK;

import java.util.HashMap;
import java.util.Map;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

import com.jian.handle.ErrorCodeHandler;

@Component
public class RTools {

	private static ErrorCodeHandler handler;

	@Autowired(required = false)
	public void setHandler(ErrorCodeHandler handler) {
		RTools.handler = handler;
	}
	
	public static RBuilder success(){
		return new RBuilder(Tips.ERROR1).setErrorCodeHandler(handler);
	}
	
	public static RBuilder custom(){
		return new RBuilder().setErrorCodeHandler(handler);
	}
	
	public static RBuilder custom(Tips tips){
		return custom(tips, "");
	}
	
	public static RBuilder custom(Tips tips, String param){
		Map<String, Object> map =  new HashMap<String, Object>();
		map.put(RKey.CODE, tips.getCode());
		map.put(RKey.MSG, tips.getDesc(param));
		return new RBuilder(map).setErrorCodeHandler(handler);
	}
	
}
